"use strict";function AnalyticsEvent(e){this.name=e,this.timestamp=(new Date).toISOString(),this.sessionID=null,delete this.sessionID,this.properties={}}function Analytics(e){this.backend=e,this.sessionID=null,this._events=[],this.getSessionId=function(){return this.sessionID},this.startSession=function(){null==this.sessionID&&(this.sessionID=mcs._Utils.uuid(),this.logNamedEvent("sessionStart").type="system")},this.endSession=function(e,t){null!=this.sessionID&&(this.logNamedEvent("sessionEnd").type="system",mcs._Logger.log("Deactivate a default session"),this.flush(e,t),this.sessionID=null)},this.logNamedEvent=function(e){var t=new mcs.AnalyticsEvent(e);return this.logEvent(t),t},this.logEvent=function(e){return 0==this._events.length&&(this._events[0]=this._createContextEvent()),this.startSession(),this._events[this._events.length]=e,e.sessionID=this.sessionID,e},this.flush=function(e,t){for(var n=0;n<this._events.length;n++)if("context"==this._events[n].name){var o=mcs.MobileBackendManager.platform.getGPSLocation();null!=o&&null!=o.latitude&&(this._events[n].properties.latitude=o.latitude),null!=o&&null!=o.longitude&&(this._events[n].properties.longitude=o.longitude)}var i=JSON.stringify(this._events),s=this,r=s.backend.getHttpHeaders();r["Content-Type"]="application/json",r["Content-Length"]=i.length,mcs.MobileBackendManager.platform.invokeService({method:"POST",url:s.backend.getPlatformUrl("analytics/events"),headers:r,body:i,success:function(){mcs._Logger.log("Analytics events flushed."),s._events=[],null!=e&&e()},error:function(e,n){mcs._Logger.log("Failed to flush analytics events."),null!=t&&t(e,n)}})},this._createContextEvent=function(){var e=new mcs.AnalyticsEvent("context");e.type="system",e.properties.timezone=""+60*(new Date).getTimezoneOffset();var t=mcs.MobileBackendManager.platform.getDeviceInformation();return e.properties.model=t.model,e.properties.manufacturer=t.manufacturer,e.properties.osName=t.osName,e.properties.osVersion=t.osVersion,e.properties.osBuild=t.osBuild,e.properties.carrier=t.carrier,e}}function Authorization(e,t,n){this.AuthenticationType=n,this.backend=t,this.config=e,this.token=null,this.authorizedUserName=null;var o=this;this.authenticateAnonymous=function(e,t){},this.authenticate=function(e,t,n,o){},this.isAuthorized=function(){return null!=this.token},this.isTokenValid=function(){return null!=this.token},this.refreshToken=function(e,t){},this.logout=function(){this.token=null,this.authorizedUserName=null},this.getCurrentUser=function(e,t){mcs.MobileBackendManager.platform.invokeService({method:"GET",url:o.backend.getPlatformUrl("users/~"),headers:o.backend.getHttpHeaders(),success:function(t,n){if(null!=e){var o=new mcs.User(n);null!=o.links&&delete o.links,e(t.status,o)}},error:function(e,n){null!=t&&t(e,n)}})},this._getHttpHeaders=function(e){}}function BasicAuthorization(e,t,n){function o(){m.setAccessToken(null),m.setAnonymousAccessToken(null),m.setIsAuthorized(!1),m.setIsAnonymous(!1),m.authorizedUserName=null}Authorization.call(this,e,t,mcs.AuthorizationTypeBasic);var i=mcs._Utils.validateConfiguration(e.backendId),s=mcs._Utils.validateConfiguration(e.anonymousToken),r=mcs._Utils.validateConfiguration(n),c="Authorization",a="Oracle-Mobile-Backend-Id",l="Oracle-Mobile-Application-Key",u=null,g=null,d=!1,h=!1,m=this;this.getAnonymousToken=function(){return s},this.getApplicationKey=function(){return r},this.getBackendId=function(){return i},this.getAccessToken=function(){return g},this.setAccessToken=function(e){g=e},this.getAnonymousAccessToken=function(){return u},this.setAnonymousAccessToken=function(e){u=e},this.getIsAuthorized=function(){return d},this.setIsAuthorized=function(e){d=e},this.getIsAnonymous=function(){return h},this.setIsAnonymous=function(e){h=e},this.backend=t,this.authenticate=function(e,t,n,i){if(m.logout(),!e||!t)return mcs._Logger.log(mcs.logLevelError,"Wrong username or password parameter"),void(i&&i(400,"Bad Request"));var s="Basic "+mcs._Utils.encodeBase64(e+":"+t);mcs.MobileBackendManager.platform.invokeService({url:m.backend.getPlatformUrl("users/login"),method:"GET",headers:{Authorization:s,"Oracle-Mobile-Backend-Id":m.getBackendId(),"Oracle-Mobile-Application-Key":m.getApplicationKey()},success:function(t,o){mcs._Logger.log(mcs.logLevelInfo,"User "+e+" logged in"),m.setIsAuthorized(!0),m.setIsAnonymous(!1),m.setAccessToken(s),m.authorizedUserName=e,null!=n&&n(t.status,o)},error:function(e,t){mcs._Logger.log(mcs.logLevelError,"Login failed with error: "+e),o(),null!=i&&i(e,t)}})},this.authenticateAnonymous=function(e,t){m.logout();var n="Basic "+m.getAnonymousToken();mcs.MobileBackendManager.platform.invokeService({url:m.backend.getPlatformUrl("users/login"),method:"GET",headers:{Authorization:n,"Oracle-Mobile-Backend-Id":m.getBackendId(),"Oracle-Mobile-Application-Key":m.getApplicationKey()},success:function(t,o){mcs._Logger.log(mcs.logLevelInfo,"User logged in anonymously "+t.status),m.setIsAuthorized(!0),m.setIsAnonymous(!0),m.setAnonymousAccessToken(n),null!=e&&e(t.status,o)},error:function(e,n){mcs._Logger.log(mcs.logLevelError,"Login failed with error: "+e),o(),null!=t&&t(e,n)}})},this.isTokenValid=function(){return null!==m.getAccessToken()&&"string"==typeof m.getAccessToken()?(mcs._Logger.log(mcs.logLevelInfo,"Authorization token is not null or empty"),!0):null==m.getAccessToken()&&"string"!=typeof m.getAccessToken()?(mcs._Logger.log(mcs.logLevelInfo,"Authorization token is null and/or empty"),!1):void 0},this.refreshToken=function(e,t){var n=m.isTokenValid();0==m.getIsAuthorized()&&n!==!0?null!==t&&t(401,"Please use the authenticate with username/password combination or authenticateAnonymous function before using refreshToken."):1==m.getIsAuthorized()&&1==n&&null!==e&&(mcs._Logger.log(mcs.logLevelError,"Authenticated token is valid, you do not need to refresh."),e(200,m.getAccessToken()))},this.logout=function(){m.authorizedUserName=null,m.setAccessToken(null),m.setAnonymousAccessToken(null),m.setIsAuthorized(!1),m.setIsAnonymous(!1)},this._getHttpHeaders=function(e){null!==m.getAccessToken()&&"string"==typeof m.getAccessToken()&&(e[c]=m.getAccessToken()),e[a]=m.getBackendId(),e[l]=m.getApplicationKey()},this._getAnonymousHttpHeaders=function(e){null!==m.getAnonymousAccessToken()&&"string"==typeof m.getAnonymousAccessToken()&&(e[c]=m.getAnonymousAccessToken()),e[a]=m.getBackendId(),e[l]=m.getApplicationKey()}}function OAuthAuthorization(e,t,n){Authorization.call(this,e,t,mcs.AuthenticationTypeOAuth);var o=mcs._Utils.validateConfiguration(e.clientId),i=mcs._Utils.validateConfiguration(e.clientSecret),s=mcs._Utils.validateConfiguration(n);if(e.hasOwnProperty("userIdentityDomainName"))var r=mcs._Utils.validateConfiguration(e.userIdentityDomainName);var c="Authorization",a="X-USER-IDENTITY-DOMAIN-NAME",l="Oracle-Mobile-Application-Key",u=null,g=null,d=null,h=!1,m=!1,f=this;this.backend=t,this.getClientId=function(){return o},this.getApplicationKey=function(){return s},this.getTenantName=function(){return r},this.getClientSecret=function(){return i},this.getAccessToken=function(){return g},this.setAccessToken=function(e){g=e},this.getAnonymousAccessToken=function(){return u},this.setAnonymousAccessToken=function(e){u=e},this.getIsAuthorized=function(){return h},this.setIsAuthorized=function(e){h=e},this.getIsAnonymous=function(){return m},this.setIsAnonymous=function(e){m=e},this.authenticate=function(e,t,n,o){if(f.logout(),!e||!t)return mcs._Logger.log(mcs.logLevelError,"Wrong username or password parameter"),void(o&&o(400,"Bad Request"));var i="Basic "+mcs._Utils.encodeBase64(f.getClientId()+":"+f.getClientSecret()),s=A(e,t),r={};r["Content-type"]="application/x-www-form-urlencoded; charset=utf-8",r[c]=i,r[l]=f.getApplicationKey(),"undefined"!=typeof f.getTenantName()&&(r[a]=f.getTenantName()),mcs.MobileBackendManager.platform.invokeService({url:f.backend.getOAuthTokenUrl(),method:"POST",headers:r,body:s,success:function(t,o){mcs._Logger.log(mcs.logLevelInfo,"OAuth Token received and time before it expires in seconds"),f.setIsAnonymous(!0),f.setIsAuthorized(!1),f.authorizedUserName=e,f.setAccessToken(o.access_token),d=Date.now()+1e3*o.expires_in,null!=n&&n(t.status,o)},error:function(e,t){mcs._Logger.log(mcs.logLevelError,"Login failed with error: "+e),p(),null!=o&&o(e,t)}})},this.authenticateAnonymous=function(e,t){f.logout();var n="Basic "+mcs._Utils.encodeBase64(f.getClientId()+":"+f.getClientSecret()),o={};o["Content-type"]="application/x-www-form-urlencoded; charset=utf-8",o[c]=n,o[l]=f.getApplicationKey(),"undefined"!=typeof f.getTenantName()&&(o[a]=f.getTenantName()),mcs.MobileBackendManager.platform.invokeService({url:f.backend.getOAuthTokenUrl(),method:"POST",headers:o,body:"grant_type=client_credentials",success:function(t,n){mcs._Logger.log(mcs.logLevelInfo,"OAuth Token received and time before it expires in seconds"),f.setIsAnonymous(!0),f.setIsAuthorized(!0),f.setAnonymousAccessToken(n.access_token),d=Date.now()+1e3*n.expires_in,null!=e&&e(t.status,n)},error:function(e,n){mcs._Logger.log(mcs.logLevelError,"Login failed with error: "+e),p(),null!=t&&t(e,n)}})},this.isTokenValid=function(){null===f.getAccessToken()&&null===f.getAnonymousAccessToken()||mcs._Logger.log(mcs.logLevelVerbose,"OAuth Token is not null or empty");var e=Date.now();return e>=d?(mcs._Logger.log(mcs.logLevelInfo,"Token has expired"),!1):(mcs._Logger.log(mcs.logLevelVerbose,"Token is still valid"),!0)},this.logout=function(){f.authorizedUserName=null,f.setIsAnonymous(!1),f.setIsAuthorized(!1),f.setAccessToken(null),f.setAnonymousAccessToken(null),d=1e3*Date.now()},this.refreshToken=function(e,t){var n=f.isTokenValid();n!==!1?(null==f.getAccessToken()&&f.getIsAnonymous()!==!1&&null!=e&&(mcs._Logger.log(mcs.logLevelError,"Anonymous token is valid, you do not need to refresh."),e(200,f.getAnonymousAccessToken())),null==f.getAnonymousAccessToken()&&f.getIsAnonymous()!==!0&&null!=e&&(mcs._Logger.log(mcs.logLevelError,"Authenticated token is valid, you do not need to refresh."),e(200,f.getAccessToken()))):(mcs._Logger.log(mcs.logLevelError,"Token has expired or user has not been authenticate with the service."),null!=t&&t(401,"Please use the authenticate with username/password combination or authenticateAnonymous function before using refreshToken."))};var p=function(){f.authorizedUserName=null,f.setIsAnonymous(!1),f.setIsAuthorized(!1),f.setAccessToken(null),f.setAnonymousAccessToken(null),d=1e3*Date.now()},A=function(e,t){var n,o;return n=e.indexOf("@")>-1?encodeURIComponent(e).replace(/%20/g,"+"):encodeURIComponent(e).replace(/%5B/g,"[").replace(/%5D/g,"]"),o=t.indexOf("&")>-1?encodeURIComponent(t).replace(/%20/g,"+"):encodeURIComponent(t).replace(/%5B/g,"[").replace(/%5D/g,"]"),"grant_type=password&username="+n+"&password="+o};this._getHttpHeaders=function(e){null!==f.getAccessToken()&&"string"==typeof f.getAccessToken()&&(e[c]="Bearer "+f.getAccessToken()),e[l]=f.getApplicationKey()},this._getAnonymousHttpHeaders=function(e){null!==f.getAnonymousAccessToken()&&"string"==typeof f.getAnonymousAccessToken()&&(e[c]="Bearer "+f.getAnonymousAccessToken()),e[l]=f.getApplicationKey()}}function FacebookAuthorization(e,t,n){Authorization.call(this,e,t,mcs.AuthenticationTypeFacebook);var o=mcs._Utils.validateConfiguration(e.backendId),i=mcs._Utils.validateConfiguration(e.anonymousToken),s=mcs._Utils.validateConfiguration(e.facebookAppId),r=mcs._Utils.validateConfiguration(n),c="Authorization",a="Oracle-Mobile-Backend-Id",l="Oracle-Mobile-Social-Identity-Provider",u="Oracle-Mobile-Social-Access-Token",g="Oracle-Mobile-Application-Key",d=null,h=null,m=null,f=!1,p=!1,A=this;this.backend=t,this.getAnonymousToken=function(){return i},this.getApplicationKey=function(){return r},this.getBackendId=function(){return o},this.getFacebookAppId=function(){return s},this.getAccessToken=function(){return h},this.setAccessToken=function(e){h=e},this.getAnonymousAccessToken=function(){return d},this.setAnonymousAccessToken=function(e){d=e},this.getIsAuthorized=function(){return f},this.setIsAuthorized=function(e){f=e},this.getIsAnonymous=function(){return p},this.setIsAnonymous=function(e){p=e},this.authenticate=function(e,t){A.logout();var n=A.getFacebookAppId(),o={};if(window.cordova){var i=cordova.require("cordova/plugin_list").metadata;if(IsInAppBrowserInstalled(i)!==!0)null!=t&&t(100,"Could not find InAppBrowser plugin, use command cordova plugin add cordova-plugin-inappbrowser");else{var s="http://localhost/callback",r="https://www.facebook.com/dialog/oauth?client_id="+n+"&redirect_uri="+s+"&response_type=token&scope=public_profile",c=window.open(r,"_blank","location=no,clearsessioncache=yes,clearcache=yes");c.show(),mcs._Logger.log(mcs.logLevelInfo,"Opening InAppBrowser to url: "+r),c.addEventListener("loadstart",function(n){if(0===n.url.indexOf(s)){c.close();for(var i=n.url.split("#")[1],r=i.split("&"),a=0;a<r.length;a++)o[r[a].split("=")[0]]=r[a].split("=")[1];void 0!==o.access_token&&null!==o.access_token?(mcs._Logger.log(mcs.logLevelInfo,"Access Token and token expired time received"),A.setIsAuthorized(!0),A.setIsAnonymous(!1),A.setAccessToken(o.access_token),m=Date.now()+1e3*o.expires_in,null!==e&&e(200,o)):0!==n.url.indexOf("error_code=100")&&A.getIsAuthorized()!==!0&&null!==t&&t(100,"Cannot authenticate via a web browser")}}),c.addEventListener("exit",function(){A.getIsAuthorized()===!0&&IsInAppBrowserInstalled(i)===!0||null!==t&&t(100,"Cannot authenticate via a web browser")})}}},this.authenticateAnonymous=function(e,t){A.logout();var n="Basic "+A.getAnonymousToken();mcs.MobileBackendManager.platform.invokeService({url:A.backend.getPlatformUrl("users/login"),method:"GET",headers:{Authorization:n,"Oracle-Mobile-Backend-Id":A.getBackendId(),"Oracle-Mobile-Application-Key":A.getApplicationKey()},success:function(t,o){mcs._Logger.log(mcs.logLevelInfo,"User logged in anonymously "+t.status),A.setIsAuthorized(!0),A.setIsAnonymous(!0),A.setAnonymousAccessToken(n),null!=e&&e(t.status,o)},error:function(e,n){mcs._Logger.log(mcs.logLevelError,"Login failed with error: "+e),null!=t&&t(e,n)}})},this.isTokenValid=function(){null===A.getAccessToken()&&null===A.getAnonymousAccessToken()||mcs._Logger.log(mcs.logLevelVerbose,"OAuth Token is not null or empty");var e=Date.now();return e>=m?(mcs._Logger.log(mcs.logLevelInfo,"Token has expired or user has not been authenticate with the service/Facebook"),!1):(mcs._Logger.log(mcs.logLevelVerbose,"Token is still valid"),!0)},this.refreshToken=function(e,t){var n=A.isTokenValid();n!==!1?(null==A.getAccessToken()&&A.getIsAnonymous()!==!1&&null!=e&&(mcs._Logger.log(mcs.logLevelError,"Anonymous token is valid, you do not need to refresh."),e(200,A.getAnonymousAccessToken())),null==A.getAnonymousAccessToken()&&A.getIsAnonymous()!==!0&&null!=e&&(mcs._Logger.log(mcs.logLevelError,"Authenticated token is valid, you do not need to refresh."),e(200,A.getAccessToken()))):(mcs._Logger.log(mcs.logLevelError,"Token is not valid and has expired, refreshing token from Facebook."),A.authenticate(e,t))},this.logout=function(){A.setIsAnonymous(!1),A.setIsAuthorized(!1),A.setAccessToken(null),A.setAnonymousAccessToken(null),m=1e3*Date.now()},this._getHttpHeaders=function(e){e[c]="Basic "+A.getAnonymousToken(),null!=A.getAccessToken()&&"string"==typeof A.getAccessToken()&&(e[u]=A.getAccessToken()),e[a]=A.getBackendId(),e[l]="facebook",e[g]=A.getApplicationKey()},this._getAnonymousHttpHeaders=function(e){null!=A.getAnonymousAccessToken()&&"string"==typeof A.getAnonymousAccessToken()&&(e[c]=A.getAnonymousAccessToken()),e[a]=A.getBackendId(),e[g]=A.getApplicationKey()}}function SSOAuthorization(e,t,n){Authorization.call(this,e,t,mcs.AuthenticationTypeSSO);var o=mcs._Utils.validateConfiguration(e.clientId),i=mcs._Utils.validateConfiguration(e.clientSecret),s=mcs._Utils.validateConfiguration(n);if(e.hasOwnProperty("userIdentityDomainName"))var r=mcs._Utils.validateConfiguration(e.userIdentityDomainName);var c="Authorization",a="X-USER-IDENTITY-DOMAIN-NAME",l="Oracle-Mobile-Application-Key",u=null,g=null,d=null,h=!1,m=!1,f=this;this.backend=t,this.getClientId=function(){return o},this.getTenantName=function(){return r},this.getClientSecret=function(){return i},this.getApplicationKey=function(){return s},this.getAccessToken=function(){return g},this.setAccessToken=function(e){g=e},this.getAnonymousAccessToken=function(){return u},this.setAnonymousAccessToken=function(e){u=e},this.getIsAuthorized=function(){return h},this.setIsAuthorized=function(e){h=e},this.getIsAnonymous=function(){return m},this.setIsAnonymous=function(e){m=e},this.authenticate=function(e,t){f.logout();var n={},o=f.getClientId();if(window.cordova){var i=cordova.require("cordova/plugin_list").metadata;if(p(i)!==!0)null!=t&&t(100,"Could not find InAppBrowser plugin, use command cordova plugin add cordova-plugin-inappbrowser");else{var s=f.backend.getPlatformUrl("sso/token")+"?clientID="+o+"&format=json",r=window.open(s,"_blank","location=no,clearsessioncache=yes,clearcache=yes");r.show(),mcs._Logger.log(mcs.logLevelInfo,"Opening InAppBrowser to url: "+s),r.addEventListener("loadstop",function(o){0===o.url.indexOf(s)&&r.executeScript({code:"document.body.innerHTML"},function(o){var i=o[0],s=i.indexOf("{"),c=i.lastIndexOf("}")+1,a=i.substring(s,c);n=JSON.parse(a),r.close(),void 0!==n.access_token&&null!==n.access_token?(mcs._Logger.log(mcs.logLevelInfo,"Access Token and token expired time received"),f.setIsAuthorized(!0),f.setIsAnonymous(!1),f.setAccessToken(n.access_token),d=Date.now()+1e3*n.expires_in,null!==e&&e(200,n)):f.isAuthorized!==!0&&n.status>=401&&null!==t&&t(n.status,n.detail)})}),r.addEventListener("exit",function(){f.isAuthorized===!0&&null===n.status||null!==t&&t(100,"Cannot authenticate via a web browser")})}}},this.authenticateAnonymous=function(e,t){f.logout();var n="Basic "+mcs._Utils.encodeBase64(f.getClientId()+":"+f.getClientSecret()),o={};o["Content-type"]="application/x-www-form-urlencoded; charset=utf-8",o[c]=n,o[l]=f.getApplicationKey(),"undefined"!=typeof f.getTenantName()&&(o[a]=f.getTenantName()),mcs.MobileBackendManager.platform.invokeService({url:f.backend.getSSOAuthTokenUrl(),method:"POST",headers:o,body:"grant_type=client_credentials",success:function(t,n){mcs._Logger.log(mcs.logLevelInfo,"OAuth Token received and time before it expires in seconds"),f.setIsAnonymous(!0),f.setIsAuthorized(!0),f.setAnonymousAccessToken(n.access_token),d=Date.now()+1e3*n.expires_in,null!=e&&e(t.status,n)},error:function(e,n){mcs._Logger.log(mcs.logLevelError,"Login failed with error: "+e),null!=t&&t(e,n)}})};var p=function(e){var t=["cordova-plugin-inappbrowser","org.apache.cordova.inappbrowser"];return t.some(function(t){return e.hasOwnProperty(t)})},A=function(){mcs.MobileBackendManager.platform.invokeService({url:"https://slc09kgw.us.oracle.com:4443/oam/server/logout",method:"GET",success:function(e){mcs._Logger.log(mcs.logLevelInfo,"User logged out "+e.status)},error:function(e){mcs._Logger.log(mcs.logLevelError,"Logout failed with error: "+e)}})};this.isTokenValid=function(){(f.getAccessToken()||f.getAnonymousAccessToken())&&mcs._Logger.log(mcs.logLevelVerbose,"OAuth Token is not null or empty");var e=Date.now();return e>=d?(mcs._Logger.log(mcs.logLevelInfo,"Token has expired or user has not been authenticate with the service"),!1):(mcs._Logger.log(mcs.logLevelVerbose,"Token is still valid"),!0)},this.logout=function(){f.setIsAnonymous(!1),f.setIsAuthorized(!1),f.setAccessToken(null),f.setAnonymousAccessToken(null),d=1e3*Date.now(),A()},this.refreshToken=function(e,t){var n=f.isTokenValid();n!==!1?(null==f.getAccessToken()&&f.getIsAnonymous()!==!1&&null!=e&&(mcs._Logger.log(mcs.logLevelError,"Anonymous token is valid, you do not need to refresh."),e(200,f.getAnonymousAccessToken())),null==f.getAnonymousAccessToken()&&f.getIsAnonymous()!==!0&&null!=e&&(mcs._Logger.log(mcs.logLevelError,"Authenticated token is valid, you do not need to refresh."),e(200,f.getAccessToken()))):(mcs._Logger.log(mcs.logLevelError,"Token is not valid and has expired, refreshing token from service."),f.authenticate(e,t))},this._getHttpHeaders=function(e){null!==f.getAccessToken()&&"string"==typeof f.getAccessToken()&&(e[c]="Bearer "+f.getAccessToken()),e[l]=f.getApplicationKey()},this._getAnonymousHttpHeaders=function(e){null!==f.getAnonymousAccessToken()&&"string"==typeof f.getAnonymousAccessToken()&&(e[c]="Bearer "+f.getAnonymousAccessToken()),e[l]=f.getApplicationKey()}}function User(e){var t=e.id,n=e.username,o=e.firstName,i=e.lastName,s=e.email,r={};for(var c in e)["id","username","firstName","lastName","email"].indexOf(c)<0&&(r[c]=e[c]),null!=r.links&&delete r.links;this.getId=function(){return t},this.getUsername=function(){return n},this.setUsername=function(e){n=e},this.getProperties=function(){return r},this.setProperties=function(e,t){var n=this.getProperties(),o=e.split(/\./);o.length<2?n[o[0]]=t:(n[o[0]]||(n[o[0]]={}),n=n[o.shift()],this.setProperties(o.join("."),t))},this.getFirstName=function(){return o},this.setFirstName=function(e){o=e},this.getLastName=function(){return i},this.setLastName=function(e){i=e},this.getEmail=function(){return s},this.setEmail=function(e){s=e}}function Diagnostics(e){this.backend=e,this._sessionId=mcs._Utils.uuid(),this._getHttpHeaders=function(e){e["Oracle-Mobile-DIAGNOSTIC-SESSION-ID"]=this.getSessionId(),e["Oracle-Mobile-DEVICE-ID"]=mcs.MobileBackendManager.platform.getDeviceId(),e["Oracle-Mobile-CLIENT-REQUEST-TIME"]=(new Date).toISOString()},this.getSessionId=function(){return this._sessionId}}function CustomCode(e){this.backend=e;var t=this;this.invokeCustomCodeJSONRequest=function(e,n,o,i,s){var r=t.backend.getHttpHeaders();r["Content-Type"]="application/json";var c=JSON.stringify(o);mcs.MobileBackendManager.platform.invokeService({method:n,url:t.backend.getCustomCodeUrl(e),headers:r,body:c,success:function(e,t){null!=i&&i(e.status,t)},error:function(e,t){null!=s&&s(e,t)}})}}function MobileBackend(e,t){function n(e,t){return e.match(t+"$")==t}var o="mobile/platform",i="mobile/custom",s=null,r=this;this.name=e,this._config=t,this.getAuthenticationTypeVariable=function(){return s},this.setAuthenticationTypeVariable=function(e){s=e},this.getPlatformUrl=function(e){var t=this._config.baseUrl;return"ssoAuth"==r.getAuthenticationTypeVariable()&&n(this._config.baseUrl,"1")&&(t=t.substring(0,t.length-4)+"7777"),t=mcs._Utils.validateConfiguration(t)+"/"+o,n(t,"/")||(t+="/"),t+e},this.getCustomCodeUrl=function(e){var t=mcs._Utils.validateConfiguration(this._config.baseUrl)+"/"+i;return n(e,"/")||(t+="/"),t+e},this.getOAuthTokenUrl=function(){var e=mcs._Utils.validateConfiguration(this._config.authorization.oAuth.tokenEndpoint);return n(e,"/")||(e+="/"),e},this.getSSOAuthTokenUrl=function(){var e=mcs._Utils.validateConfiguration(this._config.authorization.ssoAuth.tokenEndpoint);return n(e,"/")||(e+="/"),e},this.getHttpHeaders=function(e){return null==e&&(e={}),this.Diagnostics._getHttpHeaders(e),this.Authorization.getIsAuthorized()!==!1&&this.Authorization.getIsAnonymous()!==!1?this.Authorization._getAnonymousHttpHeaders(e):this.Authorization._getHttpHeaders(e),e},this.setAuthenticationType=function(e){var t=mcs._Utils.validateConfiguration(e);if(this.Authorization=null,!this._config.authorization.hasOwnProperty(t))throw mcs._Logger.Exception("No Authentication Type called "+e+" is defined in MobileBackendManager.config \ncheck MobileBackendManager.config in authorization object for the following objects:\n"+mcs.AuthenticationTypeBasic+"\n"+mcs.AuthenticationTypeOAuth+"\n"+mcs.AuthenticationTypeFacebook+"\n"+mcs.AuthenticationTypeSSO);return null!==this.Authorization&&this.Authorization.getIsAuthorized()!==!1&&this.Authorization.logout(),t==mcs.AuthenticationTypeBasic?(this.Authorization=new mcs._BasicAuthorization(this._config.authorization.basicAuth,this,this._config.applicationKey),mcs._Logger.log(mcs.logLevelInfo,"Your Authentication type: "+t),r.setAuthenticationTypeVariable(t)):t==mcs.AuthenticationTypeOAuth?(this.Authorization=new mcs._OAuthAuthorization(this._config.authorization.oAuth,this,this._config.applicationKey),mcs._Logger.log(mcs.logLevelInfo,"Your Authentication type: "+t),r.setAuthenticationTypeVariable(t)):t==mcs.AuthenticationTypeFacebook?(this.Authorization=new mcs._FacebookAuthorization(this._config.authorization.facebookAuth,this,this._config.applicationKey),mcs._Logger.log(mcs.logLevelInfo,"Your Authentication type: "+t),r.setAuthenticationTypeVariable(t)):t==mcs.AuthenticationTypeSSO&&(this.Authorization=new mcs._SSOAuthorization(this._config.authorization.ssoAuth,this,this._config.applicationKey),mcs._Logger.log(mcs.logLevelInfo,"Your Authentication type: "+t),r.setAuthenticationTypeVariable(t)),this.Authorization},this.getAuthenticationType=function(){return this.Authorization},this.Diagnostics=new mcs._Diagnostics(this),this.CustomCode=new mcs.CustomCode(this),this.Analytics=new mcs._Analytics(this),this.Storage=new mcs._Storage(this),mcs._Notifications&&(this.Notifications=new mcs._Notifications(this)),this.AppConfig={},this.loadAppConfig=function(e,t){r.Authorization.isAuthorized?r._loadAppConfig(e,t):r.Authorization.authenticateAnonymous(function(){r._loadAppConfig(e,t)},t)},this._loadAppConfig=function(e,t){var n=r.getHttpHeaders();n["Content-Type"]="application/json",mcs.MobileBackendManager.platform.invokeService({method:"GET",url:r.getPlatformUrl("appconfig/client"),headers:n,success:function(t,n){mcs._Logger.log(mcs.logLevelInfo,"New WebStarterApp config downloaded with status code: "+t.status),r.AppConfig=n,null!=e&&e(t.status,r.AppConfig)},error:function(e,n){mcs._Logger.log(mcs.logLevelError,"App config download failed! with status code: "+e),null!=t&&t(e,n)}})}}function StorageObject(e,t){function n(e,t,n,o){null!=o&&(n.setPayload(t),n.name=decodeURI(e.getResponseHeader("Oracle-Mobile-Name")),n._eTag=e.getResponseHeader("ETag"),n.contentLength=t.size,n.contentType=e.getResponseHeader("Content-Type"),n.createdBy=e.getResponseHeader("Oracle-Mobile-Created-By"),n.createdOn=e.getResponseHeader("Oracle-Mobile-Created-On"),n.modifiedBy=e.getResponseHeader("Oracle-Mobile-Modified-By"),n.modifiedOn=e.getResponseHeader("Oracle-Mobile-Modified-On"),o(n))}function o(e,t,n){null!=n&&n(e,t)}var i=e,s=null;null!=t&&(this.id=t.id,this.name=t.name,this.contentLength=t.contentLength,this.contentType=t.contentType,this._eTag=t.eTag,this.createdBy=t.createdBy,this.createdOn=t.createdOn,this.modifiedBy=t.modifiedBy,this.modifiedOn=t.modifiedOn),this.getPayload=function(){return s},this.setPayload=function(e){s=e},this.getstorageCollection=function(){return i},this.getStorage=function(){return this.getstorageCollection()._storage},this.loadPayload=function(e,t){s=e,this.contentType=t,"text/plain"==this.contentType?"string"==typeof s&&(s=e):"application/json"==this.contentType&&("string"==typeof s?s=e:"object"==typeof s&&(s=JSON.stringify(e))),this.contentLength=s.length},this.setDisplayName=function(e){this.name=e},this.getDisplayName=function(){return this.name},this.readPayload=function(e,t,i){if(null==this.getPayload()){var s=this,r=s.getstorageCollection().getStorage().backend.getHttpHeaders();r["Accept-Encoding"]="gzip";var c="storage/collections/"+s.getstorageCollection().id+"/objects/"+this.id;null!=s.getstorageCollection().userId&&s.getstorageCollection()._userIsolated&&(c+="?user="+s.getstorageCollection().userId),mcs.MobileBackendManager.platform.invokeService({method:"GET",url:s.getstorageCollection().getStorage().backend.getPlatformUrl(c),headers:r,responseType:i||"blob",success:function(t,o){n(t,o,s,e)},error:function(e,n){o(e,n,t)}})}}}function StorageCollection(e,t,n){var o=n,i=mcs._Utils.validateConfiguration(t),s=e,r=this;this.getStorage=function(){return o},this.getUserId=function(){return i},this.getData=function(){return s},this.id=this.getData().id,this.description=this.getData().description,this._userIsolated=this.getData().userIsolated,this.getObjects=function(e,t,n,o){var i=r.getStorage().backend.getHttpHeaders();i.Accept="application/json",i["Accept-Encoding"]="gzip";var s="storage/collections/"+r.id+"/objects";null!=e&&(s+=s.indexOf("?")==-1?"?":"&",s+="offset="+e),null!=t&&(s+=s.indexOf("?")==-1?"?":"&",s+="limit="+t),null!=r.getUserId()&&r._userIsolated&&(s+=s.indexOf("?")==-1?"?":"&",s+="user="+r.getUserId()),mcs.MobileBackendManager.platform.invokeService({method:"GET",url:r.getStorage().backend.getPlatformUrl(s),headers:i,success:function(e,t){if(null!=n){for(var o=[],i=t,s=0;s<i.items.length;s++)o[o.length]=new mcs.StorageObject(r,i.items[s]);n(o)}},error:function(e,t){null!=o&&o(e,t)}})},this.getObject=function(e,t,n,o){var i=new mcs.StorageObject(this);i.id=e,i.readPayload(function(e){null!=t&&t(i)},function(e,t){null!=n&&n(e,t)},o)},this.postObject=function(e,t,n){this._postOrPutStorageObject(e,!0,t,n)},this.putObject=function(e,t,n){this._postOrPutStorageObject(e,!1,t,n)},this._postOrPutStorageObject=function(e,t,n,o){var i=r.getStorage().backend.getHttpHeaders();i["Oracle-Mobile-Name"]=encodeURI(e.getDisplayName()),i["Accept-Encoding"]="gzip",i["Content-Type"]=e.contentType,i["Content-Length"]=e.contentLength;var s="storage/collections/"+r.id+"/objects";t||(s+="/"+e.id,null!=e._eTag&&(i["If-Match"]=e._eTag)),r._userIsolated&&null!=r.getUserId()&&(s+="?user="+r.getUserId()),mcs.MobileBackendManager.platform.invokeService({method:t?"POST":"PUT",url:r.getStorage().backend.getPlatformUrl(s),headers:i,body:e.getPayload(),success:function(e,t){if(null!=n){var o=new mcs.StorageObject(r,t);n(e.status,o)}},error:function(e,t){null!=o&&o(e,t)}})},this.contains=function(e,t,n){var o=r.getStorage().backend.getHttpHeaders(),i="storage/collections/"+r.id+"/objects/"+e;r._userIsolated&&null!=r.getUserId()&&(i+="?user="+r.getUserId()),mcs.MobileBackendManager.platform.invokeService({method:"HEAD",url:r.getStorage().backend.getPlatformUrl(i),headers:o,success:function(e,n){null!=t&&t(e.status,n)},error:function(e,t){null!=n&&n(e,t)}})},this.deleteObject=function(e,t,n){var o=r.getStorage().backend.getHttpHeaders();o["If-Match"]="*";var i="storage/collections/"+r.id+"/objects/"+e;r._userIsolated&&null!=r.getUserId()&&(i+="?user="+r.getUserId()),mcs.MobileBackendManager.platform.invokeService({method:"DELETE",url:r.getStorage().backend.getPlatformUrl(i),headers:o,success:function(e,n){null!=t&&t(e.status,n)},error:function(e,t){null!=n&&n(e,t)}})}}function Storage(e){this.backend=e;var t=this;this.getCollection=function(e,n,o,i){var s=t.backend.getHttpHeaders();s.Accept="application/json",s["Accept-Encoding"]="gzip",mcs.MobileBackendManager.platform.invokeService({method:"GET",url:t.backend.getPlatformUrl("storage/collections/"+mcs._Utils.validateConfiguration(e)),headers:s,success:function(e,i){null!=o&&o(new mcs._StorageCollection(i,mcs._Utils.validateConfiguration(n),t))},error:function(e,t){null!=i&&i(e,t)}})}}function Notifications(e){this.backend=e,this.getDevicePlatform=function(){var e="iPhone"==navigator.userAgent.match(/iPhone/i)?"iPhone":"iPad"==navigator.userAgent.match(/iPad/i)?"iPad":"iPod"==navigator.userAgent.match(/iPod/i)?"iPod":"Android"==navigator.userAgent.match(/Android/i)?"Android":"null";return"i"==e.substring(0,1)?e="iOS":"A"==e.substring(0,1)&&(e="Android"),e.toUpperCase()},this.registerForNotifications=function(e,t,n,o,i){var s=this,r=null,c=s.backend.getHttpHeaders();c["Content-Type"]="application/json",r="undefined"==typeof device?{notificationToken:e,mobileClient:{id:t,version:n,platform:s.getDevicePlatform()}}:{notificationToken:e,mobileClient:{id:t,version:n,platform:device.platform.toUpperCase()}},mcs.MobileBackendManager.platform.invokeService({method:"POST",url:s.backend.getPlatformUrl("devices/register"),headers:c,body:JSON.stringify(r),success:function(e){mcs._Logger.log(mcs.logLevelInfo,"Device registered for push notifications. "+e.status),null!=o&&o(e.status)},error:function(e,t){mcs._Logger.log(mcs.logLevelError,"Device registration for push notifications failed! "+e),
null!=i&&i(e,t)}})},this.deregisterForNotifications=function(e,t,n,o){var i=this,s=null,r=i.backend.getHttpHeaders();r["Content-Type"]="application/json",s="undefined"==typeof device?{notificationToken:e,mobileClient:{id:t,platform:i.getDevicePlatform()}}:{notificationToken:e,mobileClient:{id:t,platform:device.platform.toUpperCase()}},mcs.MobileBackendManager.platform.invokeService({method:"POST",url:i.backend.getPlatformUrl("devices/deregister"),headers:r,body:JSON.stringify(s),success:function(e,t){mcs._Logger.log(mcs.logLevelInfo,"Device deregistered for push notifications succeeded. "+e.status),null!=n&&n(e.status)},error:function(e,t){mcs._Logger.log(mcs.logLevelError,"Device deregistration for push notifications failed! "+e),null!=o&&o(e,t)}})}}!function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs._Logger=e.mcs._Logger||{}}(),mcs.logLevelError=1,mcs.logLevelInfo=2,mcs.logLevelVerbose=3,mcs._Logger.logLevel=mcs.logLevelInfo,mcs._Logger.Exception=function(e){this.message=e,this.name="Exception",console.log(this.name+" : "+this.message)},mcs._Logger.debug=function(e,t){console.log(e+" "+t)},mcs._Logger.log=function(e,t){mcs._Logger.logLevel>=e&&console.log(t)},function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs._Utils=e.mcs._Utils||{}}();var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";mcs._Utils.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})},mcs._Utils.validateConfiguration=function(e){var t=e;return/\s/.test(t)&&void 0!=t&&(t=removeSpace(e)),t};var removeSpace=function(e){return e.replace(/ /g,"")};mcs._Utils.encodeBase64=function(e){var t,n,o,i,s,r="",c="",a="",l=0;do t=e.charCodeAt(l++),n=e.charCodeAt(l++),c=e.charCodeAt(l++),o=t>>2,i=(3&t)<<4|n>>4,s=(15&n)<<2|c>>6,a=63&c,isNaN(n)?s=a=64:isNaN(c)&&(a=64),r=r+keyStr.charAt(o)+keyStr.charAt(i)+keyStr.charAt(s)+keyStr.charAt(a),t=n=c="",o=i=s=a="";while(l<e.length);return r},mcs._Utils.decodeBase64=function(e){var t,n,o,i,s,r="",c="",a="",l=0,u=/[^A-Za-z0-9\+\/\=]/g;if(u.exec(e))return null;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do o=keyStr.indexOf(e.charAt(l++)),i=keyStr.indexOf(e.charAt(l++)),s=keyStr.indexOf(e.charAt(l++)),a=keyStr.indexOf(e.charAt(l++)),t=o<<2|i>>4,n=(15&i)<<4|s>>2,c=(3&s)<<6|a,r+=String.fromCharCode(t),64!=s&&(r+=String.fromCharCode(n)),64!=a&&(r+=String.fromCharCode(c)),t=n=c="",o=i=s=a="";while(l<e.length);return r},mcs._Utils.hasValue=function(e,t,n){return e.hasOwnProperty(t)&&e[t]===n};var _deviceId=mcs._Utils.uuid(),Platform=function(){this.invokeService=function(e){throw mcs._Logger.Exception("invokeService() not implemented in Platform!")},this.getDeviceId=function(){return _deviceId},this.getGPSLocation=function(){return{latitude:null,longitude:null}},this.getDeviceInformation=function(){return{model:"<unknown>",manufacturer:"<unknown>",osName:"<unknown>",osVersion:"<unknown>",osBuild:"<unknown>",carrier:"<unknown>"}},this._deviceState=mcs.DeviceState.unrestricted,this._deviceStateChangedCallbacks=[],this.setDeviceState=function(e){if(this._deviceState!=e){mcs._Logger.log(mcs.logLevelInfo,"Device state changing from "+this._deviceState+" to "+e),this._deviceState=e;for(var t=0;t<this._deviceStateChangedCallbacks.length;t++)this._deviceStateChangedCallbacks[t](this._deviceState)}},this.cacheCredentials=function(e,t){},this.validateCachedCredentials=function(e,t){return!1}};!function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs.Platform=Platform;var t=e.mcs;t.DeviceState={offline:0,unrestricted:1,restricted:2,critical:3}}();var BrowserPlatform=function(){this.isBrowser=!0,this.isCordova=!1,this.invokeService=function(e){var t=new XMLHttpRequest;t.open(e.method,e.url),console.log("request url: "+e.url),console.log("request payload: "+e.body);for(var n in e.headers)e.headers.hasOwnProperty(n)&&t.setRequestHeader(n,e.headers[n]);t.withCredentials=!0,t.responseType=e.responseType||"json",t.onreadystatechange=function(){if(4===t.readyState)if(t.status>=200&&t.status<=299){if(null!=e.success){var n=t.response;"string"==typeof t.response&&(n=""==t.response?{}:JSON.parse(t.response)),e.success(t,n)}}else null!=e.error&&e.error(t.status,t.response)},t.send(e.body)}};!function(){BrowserPlatform.prototype=new mcs.Platform;var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs.BrowserPlatform=BrowserPlatform}();var CordovaPlatform=function(){this.isBrowser=!1,this.isCordova=!0,this._latitude=null,this._longitude=null;var e=this;navigator.geolocation.watchPosition(function(t){e._latitude=t.coords.latitude,e._longitude=t.coords.longitude}),this.getGPSLocation=function(){return{latitude:""+this._latitude,longitude:""+this._longitude}},this.checkConnection=function(){var e=navigator.connection.type,t={};return t[Connection.UNKNOWN]="Unknown connection",t[Connection.ETHERNET]="Ethernet connection",t[Connection.WIFI]="WiFi connection",t[Connection.CELL_2G]="Cell 2G connection",t[Connection.CELL_3G]="Cell 3G connection",t[Connection.CELL_4G]="Cell 4G connection",t[Connection.CELL]="Cell generic connection",t[Connection.NONE]="No network connection",mcs._Logger.log(mcs.logLevelInfo,"Connection type: "+t[e]),t[e]},this.getDeviceInformation=function(){return"undefined"==typeof device?{model:"<unknown>",manufacturer:"<unknown>",osName:"<unknown>",osVersion:"<unknown>",osBuild:"<unknown>",carrier:"<unknown>"}:{model:device.model,manufacturer:device.manufacturer,osName:device.platform,osVersion:device.version,osBuild:"cordova "+device.cordova,carrier:"<unknown>"}}};!function(){CordovaPlatform.prototype=new mcs.BrowserPlatform;var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs.CordovaPlatform=CordovaPlatform}(),function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs.AnalyticsEvent=AnalyticsEvent}(),function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs._Analytics=Analytics}(),function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs.Authorization=Authorization,e.mcs.AuthenticationTypeBasic="basicAuth",e.mcs.AuthenticationTypeOAuth="oAuth",e.mcs.AuthenticationTypeSSO="ssoAuth",e.mcs.AuthenticationTypeFacebook="facebookAuth"}(),function(){BasicAuthorization.prototype=new mcs.Authorization;var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs._BasicAuthorization=BasicAuthorization}(),function(){OAuthAuthorization.prototype=new mcs.Authorization;var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs._OAuthAuthorization=OAuthAuthorization}();var IsInAppBrowserInstalled=function(e){var t=["cordova-plugin-inappbrowser","org.apache.cordova.inappbrowser"];return t.some(function(t){return e.hasOwnProperty(t)})};!function(){FacebookAuthorization.prototype=new mcs.Authorization;var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs._FacebookAuthorization=FacebookAuthorization}(),function(){SSOAuthorization.prototype=new mcs.Authorization;var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs._SSOAuthorization=SSOAuthorization}(),function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs.User=User}(),function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs._Diagnostics=Diagnostics}(),function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs.CustomCode=CustomCode}(),function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs._MobileBackend=MobileBackend}(),function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{}}(),mcs.MobileBackendManager=mcs.MobileBackendManager||{},mcs.MobileBackendManager.platform=new mcs.BrowserPlatform,mcs.MobileBackendManager._config={mobileBackends:{}},mcs.MobileBackendManager._mobileBackends={},mcs.MobileBackendManager.setConfig=function(e){null!=e.logLevel&&(mcs._Logger.logLevel=e.logLevel),this._config=e,this._mobileBackends={}},mcs.MobileBackendManager.returnMobileBackend=function(e,t){return 0==mcs.MobileBackendManager.platform.isCordova?mcs.MobileBackendManager.platform=new mcs.CordovaPlatform:mcs.MobileBackendManager.platform=new mcs.BrowserPlatform,mcs._Logger.log(mcs.logLevelInfo,"The Cordova platform is set!"),mcs.MobileBackendManager.setConfig(t),mcs._Logger.log(mcs.logLevelInfo,"The config has been set and now it has the backend defined in the config as the point of entry for the rest of the functions you need to call."),mcs.MobileBackendManager.getMobileBackend(e)},mcs.MobileBackendManager.getMobileBackend=function(e){if(null!=this._mobileBackends[e])return this._mobileBackends[e];for(var t in this._config.mobileBackends)if(t==mcs._Utils.validateConfiguration(e)){var n=new mcs._MobileBackend(e,this._config.mobileBackends[e]);return this._mobileBackends[e]=n,n}return mcs._Logger.log(mcs.logLevelError,"No mobile backend called "+e+" is defined in MobileBackendManager.config"),null},function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs.StorageObject=StorageObject}(),function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs._StorageCollection=StorageCollection}(),function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs._Storage=Storage}(),function(){var e="undefined"!=typeof window?window:global;e.mcs=e.mcs||{},e.mcs._Notifications=Notifications}();