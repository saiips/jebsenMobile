define(["ojs/ojcore","knockout","pages/common/constant","ojs/ojrouter","ojs/ojarraytabledatasource","ojs/ojnavigationlist"],function(e,o,a){function t(){function t(e){return"pages/"+e+"/"+e.substr(e.lastIndexOf("/")+1)}function n(e){var o=s.indexOf(e);o<=0&&s.push(e)}function i(e){var o=s.indexOf(e);o>=0&&s.pop(e)}var r=this;r.router=e.Router.rootInstance,r.moduleConfig=$.extend(!0,{},r.router.moduleConfig,{params:{rootContext:{}}});var l=r.moduleConfig.params.rootContext.navStateId;"undefined"==typeof l&&(r.moduleConfig.params.rootContext.navStateId="orderHist");var u=r.moduleConfig.params.rootContext.newOrderNavStateId;"undefined"==typeof u&&(r.moduleConfig.params.rootContext.newOrderNavStateId="newOrderItem");var d=r.moduleConfig.params.rootContext.newQuotationNavStateId;"undefined"==typeof d&&(r.moduleConfig.params.rootContext.newQuotationNavStateId="newQuotationItem"),r.router.configure({login:{value:t("login"),label:"Login",isDefault:!0},initLoad:{value:t("initLoad"),label:"Initial Loading"},dataSync:{value:t("dataSync"),label:"Synchronization"},springboard:{value:t("springboard"),label:"Spring Board"},customer:{value:t("customer"),label:"Customer"},visitation:{value:t("visitation"),label:"Vistation"},stockInquiry:{value:t("stockInquiry"),label:"Stock Inquiry"},performance:{value:t("performance"),label:"Performance"},pickup:{value:t("delivery"),label:"Delivery"},loading:{value:t("loading"),label:"Loading Delivery/Pickup List"},reviewLoading:{value:t("reviewLoading"),label:"Review Confirmed Delivery/Pickup List"},dailyReceipt:{value:t("dailyReceipt"),label:"Daily Receipt Summary"},dailyOrders:{value:t("dailyOrders"),label:"Daily Order Summary"},reInitateOrder:{value:t("reInitateOrder"),label:"Re-Initate Order List"},salescustomer:{value:"pages/customer/salescustomer",label:"Sales Cloud Customer"},printerSetup:{value:t("printerSetup"),label:"Printer Setup"},logisticsSchMaint:{value:"pages/schedule/logisticsSchMaint",label:"Logistics Schedule Manintenance"},nonWorkingDateMaint:{value:"pages/schedule/nonWorkingDateMaint",label:"Non-Working Date Maintenance"},routeCutoffMaint:{value:"pages/schedule/routeCutoffMaint",label:"Route Cutoff Maintenance"},routeEarlierCutoffMaint:{value:"pages/schedule/routeEarlierCutoffMaint",label:"Route Earlier Cutoff Maintenance"}}),e.Router.defaults.urlAdapter=new e.Router.urlParamAdapter,r.redirect=function(e,o){var a="customer/"+e+"/"+o;r.router.go(a)},r.go=function(e){r.router.go(e)};var s=[];r.navDataSource=new e.ArrayTableDataSource(s,{idAttribute:"id"}),r.navChangeHandler=function(e,o){if("selection"===o.option&&o.value!==r.router.stateId()){r.moduleConfig.params.rootContext.navStateId=o.value;var a=r.moduleConfig.params.rootContext.custId;"quotation"===o.value||"orderHist"===o.value||"newQuotation"===o.value||"profile"===o.value||"vistationDetail"===o.value||"newVisitation"===o.value?r.redirect(o.value,a):r.router.go(o.value)}},r.populateDefaultNavPath=function(t){var l=e.Translations.getTranslatedString,u=o.toJS({name:l("ssa.menu.order"),id:"orderHist",iconClass:"oj-navigationlist-item-icon demo-icon demo-dashboard-icon"}),d=o.toJS({name:l("ssa.menu.profile"),id:"profile",iconClass:"oj-navigationlist-item-icon demo-icon demo-incidents-icon"}),c=(o.toJS({name:l("ssa.menu.visit"),id:"newVisitation",iconClass:"oj-navigationlist-item-icon demo-icon demo-suppliers-icon"}),o.toJS({name:l("ssa.menu.quotation"),id:"quotation",iconClass:"oj-navigationlist-item-icon demo-icon demo-suppliers-icon"}));s=[],s.push(u),s.push(d),t.salesRole==a.SR_MOBILE_SALE&&t.orgUnitId==a.ORG_UNIT_ID_WINE?n(c):i(c),r.navDataSource=new e.ArrayTableDataSource(s,{idAttribute:"id"})};var c=[{name:"Item List",id:"newOrderItem",iconClass:"oj-navigationlist-item-icon demo-icon demo-dashboard-icon"},{name:"Top 10",id:"topOrderItem",iconClass:"oj-navigationlist-item-icon demo-icon demo-incidents-icon"},{name:"Order List",id:"newOrder",iconClass:"oj-navigationlist-item-icon demo-icon demo-incidents-icon"}];r.newOrderNavDataSource=new e.ArrayTableDataSource(c,{idAttribute:"id"}),r.newOrderNavChangeHandler=function(e,o){if("selection"===o.option&&o.value!==r.router.stateId()&&null!=o.value&&"undefined"!=typeof o.value){r.moduleConfig.params.rootContext.newOrderNavStateId=o.value;var a=r.moduleConfig.params.rootContext.orderId;"newOrderItem"===o.value||"newOrder"===o.value||"topOrderItem"===o.value?r.redirect(o.value,a):r.router.go(o.value)}};var m=[{name:"Item List",id:"newQuotationItem",iconClass:"oj-navigationlist-item-icon demo-icon demo-dashboard-icon"},{name:"Top 10",id:"topQuotationItem",iconClass:"oj-navigationlist-item-icon demo-icon demo-dashboard-icon"},{name:"Quotation List",id:"newQuotation",iconClass:"oj-navigationlist-item-icon demo-icon demo-incidents-icon"}];r.newQuotationNavDataSource=new e.ArrayTableDataSource(m,{idAttribute:"id"}),r.newQuotationNavChangeHandler=function(e,o){if("selection"===o.option&&o.value!==r.router.stateId()&&null!=o.value&&"undefined"!=typeof o.value){r.moduleConfig.params.rootContext.newQuotationNavStateId=o.value;var a=r.moduleConfig.params.rootContext.orderId;"newQuotationItem"===o.value||"newQuotation"===o.value||"topQuotationItem"===o.value?r.redirect(o.value,a):r.router.go(o.value)}}}return new t});