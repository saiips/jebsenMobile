define(["knockout","jquery","util/appui","util/devmode","amplify","appController","pages/common/constant"],function(e,t,n,s,o,r,u){function I(){function r(r){var I=t.Deferred(),i="getPriceList",a=e.utils.parseJson(r),c=a.InputGetPriceList.P_ORG_ID,m=a.InputGetPriceList.P_PRICE_LIST_ID_TBL.P_PRICE_LIST_ID_TBL_ITEM[0].PRICE_LIST_ID,l=u.STANDARD_PRICE_LIST_KEY+":"+c+":"+m;if(s.isEnabled()&&s.isOffline())return t.getJSON("js/app/pages/newOrder/newOrderMock.json",function(e){setTimeout(function(){I.resolve(e,{status:200})},500)}),t.when(I);var f=n.getLocalStorage(l);return f?(console.log("[Local Storage] Price List - "+l),I.resolve(f,{status:200})):(console.log("[Amplify Request] Price List - "+l),o.request({resourceId:i,success:I.resolve,error:I.reject,data:r}),t.when(I).done(function(e,t,s){n.setLocalStorage(l,e)})),t.when(I)}function I(n){var r=t.Deferred(),u="getItemLot",I=e.utils.parseJson(n),i=I.InputGetItemLot.P_ORG_ID,a=I.InputGetItemLot.P_ITEM_ID_TBL.P_ITEM_ID_TBL_ITEM[0].ITEM_ID,c=u+":"+i+":"+a;return s.isEnabled()&&s.isOffline()?(t.getJSON("js/app/pages/stockInquiry/itemLotMock.json",function(e){setTimeout(function(){r.resolve(e,{status:200})},500)}),t.when(r)):(console.log("[Amplify Request] Item Lot - "+c),o.request({resourceId:u,success:r.resolve,error:r.reject,data:n}),t.when(r))}function i(n){var r=t.Deferred(),u="getItemOnHandByItem",I=e.utils.parseJson(n),i=I.InputGetItemOnhandByItem.P_ORG_ID,a=I.InputGetItemOnhandByItem.P_ITEM_ID,c=u+":"+i+":"+a;if(s.isEnabled()&&s.isOffline()){var I=e.utils.parseJson(n),m="js/app/pages/stockInquiry/";return m+=I.InputGetItemOnhandByItemLot?"itemOnhandByItemLotMock.json":"itemOnhandByItemMock.json",t.getJSON(m,function(e){setTimeout(function(){r.resolve(e,{status:200})},500)}),t.when(r)}return console.log("[Amplify Request] Item Lot - "+c),o.request({resourceId:u,success:r.resolve,error:r.reject,data:n}),t.when(r)}function a(n){var r=t.Deferred(),u="getItemOnHandByItemLot",I=e.utils.parseJson(n),i=I.InputGetItemOnhandByItemLot.P_ORG_ID,a=I.InputGetItemOnhandByItemLot.P_ITEM_ID,c=I.InputGetItemOnhandByItemLot.P_ITEM_LOT,m=u+":"+i+":"+a+":"+c;if(s.isEnabled()&&s.isOffline()){var I=e.utils.parseJson(n),l="js/app/pages/stockInquiry/";return l+=I.InputGetItemOnhandByItemLot?"itemOnhandByItemLotMock.json":"itemOnhandByItemMock.json",t.getJSON(l,function(e){setTimeout(function(){r.resolve(e,{status:200})},500)}),t.when(r)}return console.log("[Amplify Request] Item Lot - "+m),o.request({resourceId:u,success:r.resolve,error:r.reject,data:n}),t.when(r)}this.getPriceListMessage=function(e){return r(e)},this.getItemLotMessage=function(e){return I(e)},this.getItemOnhandMessageByItem=function(e){return i(e)},this.getItemOnhandMessageByItemLot=function(e){return a(e)}}return new I});