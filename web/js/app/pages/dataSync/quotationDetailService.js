define(["knockout","jquery","module","amplify","appController","pages/common/constant","util/devmode","util/appui","util/commonhelper"],function(e,t,o,n,u,i,s,r,a){function l(){function o(o){var u=t.Deferred(),a=e.utils.parseJson(o),l=a.InputGetQuotationLines.P_ORG_ID,c=a.InputGetQuotationLines.P_HEADER_ID,p=i.QUOTATION_DETAIL_KEY+":"+l+":"+c;return s.isEnabled()&&s.isOffline()?(t.getJSON("js/app/pages/quotation/quotationLineMock.json",function(e){setTimeout(function(){u.resolve(e,{status:200})},500)}),p):(console.log("[Amplify Request] Quotation Detail - "+p),n.request({resourceId:i.QUOTATION_DETAIL_KEY,success:u.resolve,error:u.reject,data:o}),t.when(u).done(function(e,t,o){r.setLocalStorage(p,e),r.updateDownloadRequestCount(i.P_QUOTE_DTL_CNT,1)}).fail(function(){r.updateDownloadRequestCount(i.P_QUOTE_DTL_CNT,1)}),p)}this.registerService=function(e){return o(e)}}return new l});