define(["knockout","jquery","module","amplify","util/devmode","pages/common/constant","util/appui"],function(e,t,n,r,o,s,l){function u(){function e(){var e=t.Deferred(),n=s.GET_ALL_PRINTERS;if(o.isEnabled()&&o.isOffline())return t.getJSON("js/app/pages/printerSetup/getAllPrinterMock.json",function(t){setTimeout(function(){e.resolve(t,{status:200})},500)}),t.when(e);var u=l.getLocalStorage(n);return u?(console.log("[Local Storage] Get All Printers"+n),e.resolve(u,{status:200})):(console.log("[Amplify Request] Get All Printers - "+n),r.request({resourceId:n,success:e.resolve,error:e.reject,data:[]}),t.when(e).done(function(e,t,r){l.setLocalStorage(n,e)})),t.when(e)}this.getAllPrintersMessage=function(){return e()}}return new u});