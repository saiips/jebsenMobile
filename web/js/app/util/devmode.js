define(["knockout","jquery","amplify","config/appconfig","util/appui"],function(e,t,i,r,s){"use strict";function n(){var e=this;this.isEnabled=function(){return null!=s.getLocalStorage(o)},this.getDevOpts=function(){var e=s.getLocalStorage(o);return null==e&&(e={}),e},this.setDevOpts=function(e){s.setLocalStorage(o,e)},this.clear=function(){e.setDevOpts(null)},this.useMCSMock=function(t){var i=e.getDevOpts();return"undefined"==typeof t?i&&i.useMCSMock:(i.useMCSMock=t,e.setDevOpts(i),r.set("useMockDataFromMCS",t),void 0)},this.isOffline=function(t){var i=e.getDevOpts();return"undefined"==typeof t?i&&i.isOffline:(i.isOffline=t,void e.setDevOpts(i))},this.ensureProfile=function(e){return e&&e.rootContext&&e.rootContext.userProfile?e.rootContext.userProfile:{username:"BPALMER",email:"bpalmer@vision.com",firstName:"Blair",lastName:"Palmer",displayName:"Palmer, Mr. Blair D. (Blair)",pictureSrc:"img/profiles/default.svg",isManager:!0,jobTitle:"Director",managerFullName:"Erickson, Mr. Barry",managerEmail:"berickso@vision.com"}},this.init=function(){this._ensureAuthHeaders()},this._ensureUseMockDataFromMCS=function(){if(this.isEnabled()){var e=s.getLocalStorage(o);e&&r.set("useMockDataFromMCS",e.useMCSMock)}},this._ensureAuthHeaders=function(){if(this.isEnabled()){var e=s.getLocalStorage(a);e&&t.ajaxSetup({headers:e})}},this.preserveAuthHeaders=function(e){this.isEnabled()&&s.setLocalStorage(a,e)}}var o="dev.opts",a="dev.auth.headers";return new n});