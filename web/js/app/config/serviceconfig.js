define(["knockout","jquery","module","amplify","text!./services.json","text!./services_uat.json","text!./services_prd.json","mbe","util/devmode"],function(e,o,t,s,n,r,c,i,u){"use strict";function d(){function e(){s.request.define("customerList",function(e){o.getJSON("js/data/customers.json",function(o){e.success(o)})}),console.log("buildMockServiceResources - customer completed"),s.request.define("orderDetail/ord-101",function(e){o.getJSON("js/data/orderdtls/ord-101.json",function(o){e.success(o)})}),s.request.define("orderDetail/ord-102",function(e){o.getJSON("js/data/orderdtls/ord-102.json",function(o){e.success(o)})}),s.request.define("orderDetail/ord-103",function(e){o.getJSON("js/data/orderdtls/ord-103.json",function(o){e.success(o)})}),s.request.define("orderDetail/ord-104",function(e){o.getJSON("js/data/orderdtls/ord-104.json",function(o){e.success(o)})}),s.request.define("orderDetail/ord-105",function(e){o.getJSON("js/data/orderdtls/ord-105.json",function(o){e.success(o)})}),s.request.define("orderDetail/ord-106",function(e){o.getJSON("js/data/orderdtls/ord-106.json",function(o){e.success(o)})}),s.request.define("orderDetail/ord-107",function(e){o.getJSON("js/data/orderdtls/ord-107.json",function(o){e.success(o)})}),console.log("buildMockServiceResources - orderDetail completed"),s.request.define("productItem",function(e){o.getJSON("js/data/product_item.json",function(o){e.success(o)})}),console.log("buildMockServiceResources - productItem completed"),s.request.define("quotationHist",function(e){o.getJSON("js/data/quotation.json",function(o){e.success(o)})}),console.log("buildMockServiceResources - quotationHist completed"),s.request.define("quotationItem",function(e){o.getJSON("js/data/quotation_item.json",function(o){e.success(o)})}),console.log("buildMockServiceResources - quotationItem completed"),s.request.define("deliveryHist",function(e){o.getJSON("js/data/delivery/delivery.json",function(o){e.success(o)})}),console.log("buildMockServiceResources - deliveryHist completed"),s.request.define("deliveryItem",function(e){o.getJSON("js/data/delivery/delivery_item.json",function(o){e.success(o)})}),console.log("buildMockServiceResources - deliveryItem completed"),s.request.define("performance",function(e){o.getJSON("js/data/performance/performance.json",function(o){e.success(o)})}),console.log("buildMockServiceResources - performance completed"),s.request.define("dailyReceipt",function(e){o.getJSON("js/data/dailyReceipt/dailyReceipt.json",function(o){e.success(o)})}),console.log("buildMockServiceResources - dailyReceipt completed")}function t(e){try{u.services.forEach(function(t){if(t.hasOwnProperty("amplify")){var n={url:e+t.url,type:t.method};for(var r in t.amplify)t.amplify.hasOwnProperty(r)&&(n[r]=t.amplify[r]);t.hasOwnProperty("method")&&o.inArray(t.method.toUpperCase(),["POST","PUT","PATCH"])>=0&&(n.processData=!1),s.request.define(t.name,"ajax",n)}})}catch(e){console.error("Invalid service configuration.")}}function i(){s.request.decoders._default=function(e,o,t,s,n){"success"===o?s(e,t):"fail"===o||"error"===o?n(o,t):n(o,t)}}var u=this;u.services,u.init=function(s){var d=s.get("environment");"dev"===d?u.services=o.parseJSON(n):"uat"===d?u.services=o.parseJSON(r):"prd"===d?u.services=o.parseJSON(c):u.services=o.parseJSON(n),s.get("devMode")?e():t(s.get("servicesUrlPrefix")),i()},u.getConfigurations=function(){return u.services}}return s.subscribe("request.before.ajax",function(e,o,t,s){u.isEnabled()&&"basicAuth"===i.MBE_AUTH_TYPE&&(s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Authorization","Basic "+i.MBE_AnonymousToken),s.setRequestHeader("Oracle-Mobile-Backend-ID",i.MBE_ID))}),new d});