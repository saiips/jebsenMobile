!function(e,t){"use strict";if("function"==typeof define&&define.amd&&define.amd.jQuery)define(["jquery"],function(n){return t(n,e)});else{if("object"!=typeof exports)return t(e.jQuery||e.$,e);module.exports=t}}(this,function(e,t){"use strict";function n(n){void 0===t.DOMParser&&t.ActiveXObject&&(t.DOMParser=function(){},DOMParser.prototype.parseFromString=function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t});try{var r=(new DOMParser).parseFromString(n,"text/xml");if(!e.isXMLDoc(r))throw new Error("Unable to parse XML");var s=e("parsererror",r);if(1===s.length)throw new Error("Error: "+e(r).text());return r}catch(t){var o=void 0===t.name?t:t.name+": "+t.message;return void e(document).trigger("xmlParseError",[o])}}function r(t,n){var o=!0;if("string"==typeof n){if(e.isFunction(t.test))return t.test(n);if("object"!=typeof t)return t===n;n=s(n)}return e.each(t,function(s){return void 0===n[s]?o=!1:void("object"==typeof n[s]&&null!==n[s]?(o&&e.isArray(n[s])&&(o=e.isArray(t[s])&&n[s].length===t[s].length),o=o&&r(t[s],n[s])):o=t[s]&&e.isFunction(t[s].test)?o&&t[s].test(n[s]):o&&t[s]===n[s])}),o}function s(e){var t,n,r,s,o={},a=String(e).split(/&/);for(t=0,n=a.length;t<n;++t){r=a[t];try{r=decodeURIComponent(r.replace(/\+/g," ")),r=r.split(/=/)}catch(e){continue}o[r[0]]?(o[r[0]].splice||(s=o[r[0]],o[r[0]]=[],o[r[0]].push(s)),o[r[0]].push(r[1])):o[r[0]]=r[1]}return o}function o(t,n){return t[n]===e.mockjaxSettings[n]}function a(t,n){if(e.isFunction(t))return t(n);if(e.isFunction(t.url.test)){if(!t.url.test(n.url))return null}else{var s=t.namespace||e.mockjaxSettings.namespace;if(s){var o=[s,t.url].join("/");o=o.replace(/(\/+)/g,"/"),t.url=o}var a=t.url.indexOf("*");if(t.url!==n.url&&a===-1||!new RegExp(t.url.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".+")).test(n.url))return null}if(t.requestHeaders){if(void 0===n.headers)return null;var i=!1;if(e.each(t.requestHeaders,function(e,t){var r=n.headers[e];if(r!==t)return i=!0,!1}),i)return null}return!t.data||n.data&&r(t.data,n.data)?t&&t.type&&t.type.toLowerCase()!==n.type.toLowerCase()?null:t:null}function i(e){return"number"==typeof e&&e>=0}function u(t){if(e.isArray(t)&&2===t.length){var n=t[0],r=t[1];if(i(n)&&i(r))return Math.floor(Math.random()*(r-n))+n}else if(i(t))return t;return C}function c(t,r,s){var a=function(o){return function(){return function(){this.status=t.status,this.statusText=t.statusText,this.readyState=1;var a=function(){this.readyState=4;var s;"json"===r.dataType&&"object"==typeof t.responseText?this.responseText=JSON.stringify(t.responseText):"xml"===r.dataType?"string"==typeof t.responseXML?(this.responseXML=n(t.responseXML),this.responseText=t.responseXML):this.responseXML=t.responseXML:"object"==typeof t.responseText&&null!==t.responseText?(t.contentType="application/json",this.responseText=JSON.stringify(t.responseText)):this.responseText=t.responseText,"number"!=typeof t.status&&"string"!=typeof t.status||(this.status=t.status),"string"==typeof t.statusText&&(this.statusText=t.statusText),s=this.onload||this.onreadystatechange,e.isFunction(s)?(t.isTimeout&&(this.status=-1),s.call(this,t.isTimeout?"timeout":void 0)):t.isTimeout&&(this.status=-1)};if(e.isFunction(t.response)){if(2===t.response.length)return void t.response(s,function(){a.call(o)});t.response(s)}a.call(o)}.apply(o)}}(this);t.proxy?j({global:!1,url:t.proxy,type:t.proxyType,data:t.data,async:r.async,dataType:"script"===r.dataType?"text/plain":r.dataType,complete:function(e){t.responseXML=t.responseText=e.responseText,o(t,"status")&&(t.status=e.status),o(t,"statusText")&&(t.statusText=e.statusText),r.async===!1?a():this.responseTimer=setTimeout(a,u(t.responseTime))}}):r.async===!1?a():this.responseTimer=setTimeout(a,u(t.responseTime))}function l(t,n,r,s){return t=e.extend(!0,{},e.mockjaxSettings,t),"undefined"==typeof t.headers&&(t.headers={}),"undefined"==typeof n.headers&&(n.headers={}),t.contentType&&(t.headers["content-type"]=t.contentType),{status:t.status,statusText:t.statusText,readyState:1,open:function(){},send:function(){s.fired=!0,c.call(this,t,n,r)},abort:function(){clearTimeout(this.responseTimer)},setRequestHeader:function(e,t){n.headers[e]=t},getResponseHeader:function(e){return t.headers&&t.headers[e]?t.headers[e]:"last-modified"===e.toLowerCase()?t.lastModified||(new Date).toString():"etag"===e.toLowerCase()?t.etag||"":"content-type"===e.toLowerCase()?t.contentType||"text/plain":void 0},getAllResponseHeaders:function(){var n="";return t.contentType&&(t.headers["Content-Type"]=t.contentType),e.each(t.headers,function(e,t){n+=e+": "+t+"\n"}),n}}}function p(e,t,n){if(f(e),e.dataType="json",e.data&&M.test(e.data)||M.test(e.url)){y(e,t,n);var r=/^(\w+:)?\/\/([^\/?#]+)/,s=r.exec(e.url),o=s&&(s[1]&&s[1]!==location.protocol||s[2]!==location.host);if(e.dataType="script","GET"===e.type.toUpperCase()&&o){var a=d(e,t,n);return!a||a}}return null}function f(e){"GET"===e.type.toUpperCase()?M.test(e.url)||(e.url+=(/\?/.test(e.url)?"&":"?")+(e.jsonp||"callback")+"=?"):e.data&&M.test(e.data)||(e.data=(e.data?e.data+"&":"")+(e.jsonp||"callback")+"=?")}function d(t,n,r){var s=r&&r.context||t,o=e.Deferred?new e.Deferred:null;if(n.response&&e.isFunction(n.response))n.response(r);else if("object"==typeof n.responseText)e.globalEval("("+JSON.stringify(n.responseText)+")");else{if(n.proxy)return j({global:!1,url:n.proxy,type:n.proxyType,data:n.data,dataType:"script"===t.dataType?"text/plain":t.dataType,complete:function(r){e.globalEval("("+r.responseText+")"),x(t,n,s,o)}}),o;e.globalEval("("+("string"==typeof n.responseText?'"'+n.responseText+'"':n.responseText)+")")}return x(t,n,s,o),o}function x(t,n,r,s){var o;if(setTimeout(function(){g(t,r,n),h(t,r)},u(n.responseTime)),s){try{o=e.parseJSON(n.responseText)}catch(e){}s.resolveWith(r,[o||n.responseText])}}function y(e,n,r){var s=r&&r.context||e,o="string"==typeof e.jsonpCallback&&e.jsonpCallback||"jsonp"+w++;e.data&&(e.data=(e.data+"").replace(M,"="+o+"$1")),e.url=e.url.replace(M,"="+o+"$1"),t[o]=t[o]||function(){g(e,s,n),h(e,s),t[o]=void 0;try{delete t[o]}catch(e){}},e.jsonpCallback=o}function g(t,n,r){t.success&&t.success.call(n,r.responseText||"","success",{}),t.global&&(t.context?e(t.context):e.event).trigger("ajaxSuccess",[{},t])}function h(t,n){t.complete&&t.complete.call(n,{statusText:"success",status:200},"success"),t.global&&(t.context?e(t.context):e.event).trigger("ajaxComplete",[{},t]),t.global&&!--e.active&&e.event.trigger("ajaxStop")}function m(t,n){var r,s,o,i;"object"==typeof t?(n=t,t=void 0):(n=n||{},n.url=t||n.url),s=e.ajaxSetup({},n),s.type=s.method=s.method||s.type,i=function(t,r){var s=n[t.toLowerCase()];return function(){e.isFunction(s)&&s.apply(this,[].slice.call(arguments)),r["onAfter"+t]()}};for(var u=0;u<b.length;u++)if(b[u]&&(o=a(b[u],s)))return S.push(s),e.mockjaxSettings.log(o,s),s.dataType&&"JSONP"===s.dataType.toUpperCase()&&(r=p(s,o,n))?r:(n.crossDomain=!1,o.cache=s.cache,o.timeout=s.timeout,o.global=s.global,o.isTimeout&&(o.responseTime>1?n.timeout=o.responseTime-1:(o.responseTime=2,n.timeout=1)),e.isFunction(o.onAfterSuccess)&&(n.success=i("Success",o)),e.isFunction(o.onAfterError)&&(n.error=i("Error",o)),e.isFunction(o.onAfterComplete)&&(n.complete=i("Complete",o)),T(o,n),function(t,n,s,o){r=j.call(e,e.extend(!0,{},s,{xhr:function(){return l(t,n,s,o)}}))}(o,s,n,b[u]),r);if(k.push(n),e.mockjaxSettings.throwUnmocked===!0)throw new Error("AJAX not mocked: "+n.url);return j.apply(e,[n])}function T(e,t){if(e.url instanceof RegExp&&e.hasOwnProperty("urlParams")){var n=e.url.exec(t.url);if(1!==n.length){n.shift();var r=0,s=n.length,o=e.urlParams.length,a=Math.min(s,o),i={};for(r;r<a;r++){var u=e.urlParams[r];i[u]=n[r]}t.urlParams=i}}}function v(e){var t,n,r,s=[],o=e instanceof RegExp?function(t){return e.test(t)}:function(t){return e===t};for(t=0,n=b.length;t<n;t++)r=b[t],o(r.url)||s.push(r);return s}var j=e.ajax,b=[],S=[],k=[],M=/=\?(&|$)/,w=(new Date).getTime();e.extend({ajax:m});var C=500;return e.mockjaxSettings={log:function(n,r){if(n.logging!==!1&&("undefined"!=typeof n.logging||e.mockjaxSettings.logging!==!1)&&t.console&&console.log){var s="MOCK "+r.type.toUpperCase()+": "+r.url,o=e.ajaxSetup({},r);if("function"==typeof console.log)console.log(s,o);else try{console.log(s+" "+JSON.stringify(o))}catch(e){console.log(s)}}},logging:!0,namespace:null,status:200,statusText:"OK",responseTime:C,isTimeout:!1,throwUnmocked:!1,contentType:"text/plain",response:"",responseText:"",responseXML:"",proxy:"",proxyType:"GET",lastModified:null,etag:"",headers:{etag:"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}},e.mockjax=function(e){var t=b.length;return b[t]=e,t},e.mockjax.clear=function(e){"string"==typeof e||e instanceof RegExp?b=v(e):e||0===e?b[e]=null:b=[],S=[],k=[]},e.mockjax.handler=function(e){if(1===arguments.length)return b[e]},e.mockjax.mockedAjaxCalls=function(){return S},e.mockjax.unfiredHandlers=function(){for(var e=[],t=0,n=b.length;t<n;t++){var r=b[t];null===r||r.fired||e.push(r)}return e},e.mockjax.unmockedAjaxCalls=function(){return k},e.mockjax});